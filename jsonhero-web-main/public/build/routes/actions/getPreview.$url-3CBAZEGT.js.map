{
  "version": 3,
  "sources": ["empty-module:~/services/uriPreview.server", "browser-route-module:E:\\Workspace\\jsonhero-web-main\\app\\routes\\actions\\getPreview.$url.ts?browser", "../../../../app/routes/actions/getPreview.$url.ts"],
  "sourcesContent": ["module.exports = {};", "export * from \"E:\\\\Workspace\\\\jsonhero-web-main\\\\app\\\\routes\\\\actions\\\\getPreview.$url.ts\";", "import { LoaderFunction } from \"remix\";\nimport invariant from \"tiny-invariant\";\nimport { getUriPreview } from \"~/services/uriPreview.server\";\n\nexport const loader: LoaderFunction = async ({ params }) => {\n  try {\n    invariant(params.url, \"expected params.url\");\n\n    const decoded = decodeURIComponent(params.url);\n\n    const earlyReturn = earlyRespondIfHomepagePreviewUri(decoded);\n\n    if (earlyReturn) {\n      return new Response(JSON.stringify(earlyReturn), {\n        headers: {\n          \"Content-Type\": \"application/json; charset=utf-8\",\n          \"Cache-Control\": \"public, max-age=3600\",\n        },\n      });\n    }\n\n    const result = await getUriPreview(decoded);\n\n    return new Response(JSON.stringify(result), {\n      headers: {\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        \"Cache-Control\": \"public, max-age=3600\",\n      },\n    });\n  } catch {\n    return new Response(\n      JSON.stringify({ error: \"Unable to preview this URL\" }),\n      {\n        headers: {\n          \"Content-Type\": \"application/json; charset=utf-8\",\n          \"Cache-Control\": \"public, max-age=3600\",\n        },\n      }\n    );\n  }\n};\n\nfunction earlyRespondIfHomepagePreviewUri(uri: string) {\n  if (uri === \"https://www.theonion.com/\") {\n    return {\n      url: \"https://www.theonion.com/\",\n      domain: \"theonion.com\",\n      lastUpdated: \"2022-08-09T08:04:27.002858Z\",\n      nextUpdate: \"2022-08-10T08:04:24.888459Z\",\n      contentType: \"html\",\n      mimeType: \"text/html\",\n      size: 67994,\n      redirected: false,\n      title: \"The Onion | America's Finest News Source.\",\n      description:\n        \"The Onion brings you all of the latest news, stories, photos, videos and more from America's finest news source. \",\n      name: \"THEONION.COM\",\n      trackersDetected: false,\n      icon: {\n        url: \"https://cdn.peekalink.io/public/images/d9062cab-500b-4677-bd51-b08dae409d3b/b2dd179e-c3b3-4635-ba66-654835ada7b8.jpg\",\n        width: 200,\n        height: 200,\n      },\n      image: {\n        url: \"https://cdn.peekalink.io/public/images/d9062cab-500b-4677-bd51-b08dae409d3b/b2dd179e-c3b3-4635-ba66-654835ada7b8.jpg\",\n        width: 200,\n        height: 200,\n      },\n    };\n  }\n\n  if (uri === \"https://www.youtube.com/watch?v=dQw4w9WgXcQ\") {\n    return {\n      url: \"https://www.youtube.com/watch?v=dQw4w9WgXcQ\",\n      domain: \"youtube.com\",\n      lastUpdated: \"2022-08-09T08:04:28.028029Z\",\n      nextUpdate: \"2022-08-10T08:04:27.764732Z\",\n      contentType: \"html\",\n      mimeType: \"text/html\",\n      size: 499047,\n      redirected: true,\n      redirectionUrl: \"https://www.youtube.com/watch?ucbcb=1&v=dQw4w9WgXcQ\",\n      redirectionCount: 2,\n      redirectionTrail: [\n        \"https://consent.youtube.com/m?continue=https://www.youtube.com/watch?v=dQw4w9WgXcQ&gl=NL&hl=nl&m=0&pc=yt&src=1&uxe=23983172\",\n        \"https://www.youtube.com/watch?ucbcb=1&v=dQw4w9WgXcQ\",\n      ],\n      title: \"Rick Astley - Never Gonna Give You Up (Video)\",\n      description:\n        \"Rick Astley's official music video for \u201CNever Gonna Give You Up\u201D \\nListen to..\",\n      name: \"RickAstleyVEVO\",\n      trackersDetected: true,\n      icon: {\n        url: \"https://cdn.peekalink.io/public/images/66282716-f48d-40a9-933c-1d174f5a3180/a4696ad6-4a09-4ae0-b03d-2abb41323422.jpg\",\n        width: 48,\n        height: 48,\n      },\n      image: {\n        url: \"https://cdn.peekalink.io/public/images/0e1781f8-75dd-4930-91f5-e5c6a93facfe/efd883f6-3194-45ca-893a-cdec077c7de9.jpe\",\n        width: 480,\n        height: 360,\n      },\n      details: {\n        type: \"youtube\",\n        videoId: \"dQw4w9WgXcQ\",\n        duration: \"213.0\",\n        viewCount: 915578000,\n        likeCount: 9182302,\n        dislikeCount: 272157,\n        commentCount: 1519506,\n        publishedAt: \"2009-10-25T06:57:33Z\",\n      },\n    };\n  }\n}\n"],
  "mappings": ";;;;;;;;;;AAAA;AAAA;AAAA;AAAA,WAAO,UAAU;AAAA;AAAA;;;ACAjB;;;ACAA;AAEA,wBAA8B;AAEvB,IAAM,SAAyB,OAAO,EAAE,aAAa;AAC1D,MAAI;AACF,cAAU,OAAO,KAAK;AAEtB,UAAM,UAAU,mBAAmB,OAAO;AAE1C,UAAM,cAAc,iCAAiC;AAErD,QAAI,aAAa;AACf,aAAO,IAAI,SAAS,KAAK,UAAU,cAAc;AAAA,QAC/C,SAAS;AAAA,UACP,gBAAgB;AAAA,UAChB,iBAAiB;AAAA;AAAA;AAAA;AAKvB,UAAM,SAAS,MAAM,qCAAc;AAEnC,WAAO,IAAI,SAAS,KAAK,UAAU,SAAS;AAAA,MAC1C,SAAS;AAAA,QACP,gBAAgB;AAAA,QAChB,iBAAiB;AAAA;AAAA;AAAA,UAGrB;AACA,WAAO,IAAI,SACT,KAAK,UAAU,EAAE,OAAO,iCACxB;AAAA,MACE,SAAS;AAAA,QACP,gBAAgB;AAAA,QAChB,iBAAiB;AAAA;AAAA;AAAA;AAAA;AAO3B,0CAA0C,KAAa;AACrD,MAAI,QAAQ,6BAA6B;AACvC,WAAO;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,aAAa;AAAA,MACb,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,UAAU;AAAA,MACV,MAAM;AAAA,MACN,YAAY;AAAA,MACZ,OAAO;AAAA,MACP,aACE;AAAA,MACF,MAAM;AAAA,MACN,kBAAkB;AAAA,MAClB,MAAM;AAAA,QACJ,KAAK;AAAA,QACL,OAAO;AAAA,QACP,QAAQ;AAAA;AAAA,MAEV,OAAO;AAAA,QACL,KAAK;AAAA,QACL,OAAO;AAAA,QACP,QAAQ;AAAA;AAAA;AAAA;AAKd,MAAI,QAAQ,+CAA+C;AACzD,WAAO;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,aAAa;AAAA,MACb,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,UAAU;AAAA,MACV,MAAM;AAAA,MACN,YAAY;AAAA,MACZ,gBAAgB;AAAA,MAChB,kBAAkB;AAAA,MAClB,kBAAkB;AAAA,QAChB;AAAA,QACA;AAAA;AAAA,MAEF,OAAO;AAAA,MACP,aACE;AAAA,MACF,MAAM;AAAA,MACN,kBAAkB;AAAA,MAClB,MAAM;AAAA,QACJ,KAAK;AAAA,QACL,OAAO;AAAA,QACP,QAAQ;AAAA;AAAA,MAEV,OAAO;AAAA,QACL,KAAK;AAAA,QACL,OAAO;AAAA,QACP,QAAQ;AAAA;AAAA,MAEV,SAAS;AAAA,QACP,MAAM;AAAA,QACN,SAAS;AAAA,QACT,UAAU;AAAA,QACV,WAAW;AAAA,QACX,WAAW;AAAA,QACX,cAAc;AAAA,QACd,cAAc;AAAA,QACd,aAAa;AAAA;AAAA;AAAA;AAAA;",
  "names": []
}
